# LaunchDeck

LaunchDeck is a virtual application launcher, macro-pad and automation tool. It allows controlling a PC via a simplified tile-based interface.

This application consists of 5 parts:
- Agent: Electron application running on the host machine that is being controlled by one or more Clients
- Client: Angular PWA/browser application hosted by the Server allowing interaction with an Agent
- Server: ASP.net 6 application that hosts the user interface and acts as a bridge between Clients and the Agent
- Plugins: NodeJS modules that add functionality to the Agent to accomplish tasks made accessible via the Client and Server
- Common: Typescript classes, interfaces and extensions shared by the Agent, Server and Plugins

## Plugins

There are a few plugins provided by the application (these may be delivered separately from the final application):
- DelayPlugin: adds millisecond delays between commands
- HttpPlugin: makes Http calls as commands
- KeyboardPlugin: sends key commands to the host machine
- ProcessPlugin (Windows Only): launches applications
- WyzePlugin: unofficial API to automate Wyze bulbs

## Development

### Dependencies

- dotnet 6 must be installed to build and run the Server
- Node 12+ must be installed to build and run the Client and Agent
- Node-gyp and corresponding build tools for Plugins

### Build and Run

- `npm run start` to build and run the agent

_When the Agent starts, you will be prompted for the Server Address and Agent Code. The Server Address defaults to `http://localhost:5105/` which is the development server when running `npm run server`. The agent code defaults to `1` for dev builds and is generated by the agent for release builds. It is used to connect the agent and clients together._

_The Client and Agent will auto-reconnect to the server on connection loss, though it may take a few seconds._

## Getting Started

### Setup

- Install and run the Agent. When the Agent starts, the Server Address and Agent Code must be set.
  - The Server Address and Agent Code will either have a default value or display the value that was last used.
- Open a browser to the Server Address, typically either (https://launchdeck.davidpaulhamilton.net) or (http://localhost:5105)
  - When prompted for the Agent Code, enter the Agent Code specified when running the Agent.

_The Server Address defaults to (https://launchdeck.davidpaulhamilton.net) or (http://localhost:5105) during development for the local server._

_The Agent Code is generated by the agent or defaults to `1` during development. It is used to connect the agent and clients together._

### About the client app

- The client app allows the user to see configured tiles to perform actions on the agent
- Each tile can have a name, icon, color and commands (based on plugins that are loaded)
- There are two sections of tiles:
  - The top tiles can act as basic commands or folders to display related tiles grouped on the bottom
  - The bottom section displays tiles related to the active tile on the top
- Top-level tiles can also be activated based on different events on the agent
  - For example: a tile can become "active" when the associated process window becomes the active window on the agent host
- Tapping on tiles will run any commands associated to the tile
- If the tile is a top-level tile, tapping the tile will also show any child tiles grouped below

#### UI Layout

- Collapsing menu bar at the top
  - Lock active tile (prevents host events from changing the active tile)
  - Disconnect from Agent
- Main tile area
  - Displays configured tiles
  - Selected tile will show child tiles below
- Child tile area
  - Displays tiles related to the active tile above

### About the agent

- The agent allows the host to connect to the server and client
- The agent allows configuration of plugins and client display settings
- The agent allows the user to configure tiles that are shown to the client
- The user can configure each tile's name, icon, color and commands (based on plugins that are loaded)
- Each tile can be moved to change the order the tiles are displayed in
- Clicking on a top-level tile displays any children configured for the tile
- Tiles can be added at the top-level or as a child of the selected tile
- 
